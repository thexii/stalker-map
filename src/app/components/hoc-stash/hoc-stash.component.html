<div class="popup-container">
    <div class="header">
        <div class='popup'>{{ 'stuff_at_location' | translate}}</div>
        @if (stash.dlc && stash.dlc != 'None') {
            <div class='popup dlc'><span>DLC: </span>{{ stash.dlc }}</div>
        }
    </div>
    @if (items && items.length > 0) {
        <div class="inventory inventory-columns-7">
            @for (stuffItem of items; track stuffItem) {
                <div tooltip [component]="itemTooltipComponent" [componentData]="{item: stuffItem.item}" class="inventory-item hoc inventory-item-width-{{stuffItem.item.width}} inventory-item-height-{{stuffItem.item.height}}">
                    @if (stuffItem.count > 1) {
                        <div class="inventory-item-count-hoc">{{stuffItem.count}}</div>
                    }

                    <div class="item-additional-info">
                        @if (stuffItem.item.installedUpgrades && stuffItem.item.installedUpgrades.length > 0) {
                            <div class="inventory-item-upgrade"></div>
                        }
                    </div>

                    <div
                        class="inventory-item-image hoc inventory-item-x-{{stuffItem.item.gridX}} inventory-item-y-{{stuffItem.item.gridY}}">
                    </div>

                    @if (stuffItem.preinstalled.length > 0) {
                        <div class="item-attachments">
                            @for (attachment of stuffItem.preinstalled; track attachment) {
                                <div class="item-attachment inventory-item-x-{{attachment.gridX}} inventory-item-y-{{attachment.gridY}}" [ngStyle]="{'width': `calc(var(--inventory-cell-size) * ${stuffItem.item.width})`, 'height': `calc(var(--inventory-cell-size) * ${stuffItem.item.height})`}"></div>
                            }
                        </div>
                    }
                </div>
            }
        </div>
    }
</div>